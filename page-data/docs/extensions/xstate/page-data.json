{"componentChunkName":"component---src-pages-docs-mdx-slug-js","path":"/docs/extensions/xstate","result":{"data":{"mdx":{"slug":"extensions/xstate","frontmatter":{"title":"XState","description":"This doc describes XState extension."},"body":"const _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nconst _frontmatter = {\n  \"title\": \"XState\",\n  \"description\": \"This doc describes XState extension.\",\n  \"nav\": 4.05,\n  \"keywords\": \"xstate,machine,atomwithmachine\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return mdx(\"div\", props);\n};\nconst CodeSandbox = makeShortcode(\"CodeSandbox\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  let {\n      components\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Jotai\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u65E2\\u539F\\u59CB\\u53C8\\u7075\\u6D3B\\uFF0C\\u4F46\\u6709\\u65F6\\u5019\\u4E5F\\u610F\\u5473\\u7740\\u8FC7\\u4E8E\\u81EA\\u7531\\u3002XState\\u662F\\u4E00\\u4E2A\\u590D\\u6742\\u7684\\u5E93\\uFF0C\\u4E3A\\u72B6\\u6001\\u7BA1\\u7406\\u63D0\\u4F9B\\u4E86\\u66F4\\u597D\\u3001\\u66F4\\u5B89\\u5168\\u7684\\u62BD\\u8C61\\u3002\"), mdx(\"h3\", null, \"\\u5B89\\u88C5 {#install}\"), mdx(\"p\", null, \"\\u8981\\u4F7F\\u7528\\u6B64\\u529F\\u80FD\\uFF0C\\u4F60\\u5FC5\\u987B\\u5B89\\u88C5 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"xstate\"), \" \\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jotai-xstate\"), \"\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"npm i xstate jotai-xstate\\n\")), mdx(\"h2\", null, \"atomWithMachine {#atomwithmachine}\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"atomWithMachine\"), \" \\u4F7F\\u7528XState\\u673A\\u5668\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u539F\\u5B50\\u3002\\u5B83\\u63A5\\u6536\\u4E00\\u4E2A\\u51FD\\u6570 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getMachine\"), \" \\u6765\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u673A\\u5668\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getMachine\"), \" \\u5728\\u7B2C\\u4E00\\u6B21\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get\"), \" \\u53C2\\u6570\\u65F6\\u88AB\\u8C03\\u7528\\uFF0C\\u4F60\\u53EF\\u4EE5\\u7528\\u5B83\\u6765\\u8BFB\\u53D6\\u5176\\u4ED6\\u539F\\u5B50\\u7684\\u503C\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-tsx\"\n  }, \"import { useAtom } from 'jotai'\\nimport { atomWithMachine } from 'jotai-xstate'\\nimport { assign, createMachine } from 'xstate'\\n\\nconst createEditableMachine = (value: string) =>\\n  createMachine<{ value: string }>({\\n    id: 'editable',\\n    initial: 'reading',\\n    context: {\\n      value,\\n    },\\n    states: {\\n      reading: {\\n        on: {\\n          dblclick: 'editing',\\n        },\\n      },\\n      editing: {\\n        on: {\\n          cancel: 'reading',\\n          commit: {\\n            target: 'reading',\\n            actions: assign({\\n              value: (_, { value }) => value,\\n            }),\\n          },\\n        },\\n      },\\n    },\\n  })\\n\\nconst defaultTextAtom = atom('edit me')\\nconst editableMachineAtom = atomWithMachine((get) =>\\n// `get` \\u53EA\\u5728\\u521D\\u59CB\\u5316\\u673A\\u5668\\u65F6\\u53EF\\u7528\\n  createEditableMachine(get(defaultTextAtom)),\\n)\\n\\nconst Toggle = () => {\\n  const [state, send] = useAtom(editableMachineAtom)\\n\\n  return (\\n    <div>\\n      {state.matches('reading') && (\\n        <strong onDoubleClick={send}>{state.context.value}</strong>\\n      )}\\n      {state.matches('editing') && (\\n        <input\\n          autoFocus\\n          defaultValue={state.context.value}\\n          onBlur={(e) => send({ type: 'commit', value: e.target.value })}\\n          onKeyDown={(e) => {\\n            if (e.key === 'Enter') {\\n              send({ type: 'commit', value: e.target.value })\\n            }\\n            if (e.key === 'Escape') {\\n              send('cancel')\\n            }\\n          }}\\n        />\\n      )}\\n      <br />\\n      <br />\\n      <div>\\n        \\u53CC\\u51FB\\u8FDB\\u884C\\u7F16\\u8F91\\u3002\\u5931\\u53BB\\u7126\\u70B9\\u6216\\u6309 <code>enter</code> \\u63D0\\u4EA4\\u3002\\u6309 <code>esc</code> \\u53D6\\u6D88\\u3002\\n      </div>\\n    </div>\\n  )\\n}\\n\")), mdx(\"h3\", null, \"\\u5728\\u5168\\u5C40Provider\\u4E2D\\u5B58\\u50A8\\u53EF\\u91CD\\u542F\\u7684\\u673A\\u5668\\uFF08\\u65E0Provider\\u6A21\\u5F0F\\uFF09 {#restartable-machine-stored-in-a-global-provider-(provider-less-mode)}\"), mdx(\"p\", null, \"\\u5F53\\u4F60\\u7684\\u673A\\u5668\\u8FBE\\u5230\\u5176\\u6700\\u7EC8\\u72B6\\u6001\\u65F6\\uFF0C\\u5B83\\u4E0D\\u80FD\\u63A5\\u6536\\u4EFB\\u4F55\\u66F4\\u591A\\u7684\\u4E8B\\u4EF6\\u3002\\u5982\\u679C\\u4F60\\u7684atomWithMachine\\u5728\\u5168\\u5C40\\u5B58\\u50A8\\uFF08\\u4E5F\\u5C31\\u662F\\u65E0Provider\\u6A21\\u5F0F\\uFF09\\u4E2D\\u521D\\u59CB\\u5316\\uFF0C\\u8981\\u91CD\\u542F\\u5B83\\uFF0C\\u4F60\\u9700\\u8981\\u5411\\u4F60\\u7684\\u673A\\u5668\\u53D1\\u9001\\u4E00\\u4E2A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RESTART\"), \" \\u4E8B\\u4EF6\\uFF0C\\u5982\\u4E0B\\u6240\\u793A\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-tsx\"\n  }, \"import { RESTART } from 'jotai-xstate'\\n\\nconst YourComponent = () => {\\n  const [current, send] = useAtom(yourMachineAtom)\\n\\n  const isFinalState = current.matches('myFinalState')\\n\\n  useEffect(() => {\\n    // \\u5F53\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u91CD\\u542F\\u5168\\u5C40\\u521D\\u59CB\\u5316\\u7684\\u673A\\u5668\\n    return () => {\\n      if (isFinalState) send(RESTART)\\n    }\\n  }, [isFinalState])\\n}\\n\")), mdx(\"h3\", null, \"\\u793A\\u4F8B {#examples}\"), mdx(\"p\", null, \"\\u67E5\\u770B\\u5E26\\u6709atomWithMachine\\u7684\\u793A\\u4F8B\\uFF1A\"), mdx(CodeSandbox, {\n    id: \"fxtoe3\",\n    mdxType: \"CodeSandbox\"\n  }), mdx(\"p\", null, \"\\u53EF\\u91CD\\u542F\\u7684\\u673A\\u5668\\uFF1A\"), mdx(CodeSandbox, {\n    id: \"n179xd\",\n    mdxType: \"CodeSandbox\"\n  }), mdx(\"h3\", null, \"\\u6559\\u7A0B {#tutorials}\"), mdx(\"p\", null, \"\\u67E5\\u770B\\u5173\\u4E8EJotai\\u548CXState\\u7684\\u8BFE\\u7A0B\\u3002\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://egghead.io/courses/complex-state-management-in-react-with-jotai-and-xstate-3be0a740\"\n  }, \"React\\u4E2D\\u7684\\u590D\\u6742\\u72B6\\u6001\\u7BA1\\u7406\\u4E0EJotai\\u548CXState\")), mdx(\"p\", null, \"\\uFF08\\u6CE8\\u610F\\uFF1A\\u5728\\u8BFE\\u7A0B\\u4E2D\\uFF0C\\u5B83\\u4F7F\\u7528\\u7684\\u662F \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jotai/xstate\"), \"\\uFF0C\\u5DF2\\u88AB \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jotai-xstate\"), \" \\u53D6\\u4EE3\\u3002\\uFF09\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"ebc40ec0-83ec-5319-9bde-6880f402daa2","slug":"extensions/xstate","__params":{"slug":"extensions"}}},"staticQueryHashes":["171421096","930225796"]}