{"componentChunkName":"component---src-pages-docs-mdx-slug-js","path":"/docs/core/atom","result":{"data":{"mdx":{"slug":"core/atom","frontmatter":{"title":"atom","description":"This doc describes core `jotai` bundle."},"body":"const _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nconst _frontmatter = {\n  \"title\": \"atom\",\n  \"description\": \"This doc describes core `jotai` bundle.\",\n  \"nav\": 2.01,\n  \"keywords\": \"atom,primitive,derived,debug,label,onmount\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return mdx(\"div\", props);\n};\nconst CodeSandbox = makeShortcode(\"CodeSandbox\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  let {\n      components\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"atom {#atom}\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"atom\"), \"\\u51FD\\u6570\\u7528\\u4E8E\\u521B\\u5EFA\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u3002\\u6211\\u4EEC\\u79F0\\u4E4B\\u4E3A\\\"\\u539F\\u5B50\\u914D\\u7F6E\\\"\\uFF0C\\u56E0\\u4E3A\\u5B83\\u53EA\\u662F\\u4E00\\u4E2A\\u5B9A\\u4E49\\uFF0C\\u8FD8\\u6CA1\\u6709\\u4FDD\\u5B58\\u4EFB\\u4F55\\u503C\\u3002\\u5982\\u679C\\u4E0A\\u4E0B\\u6587\\u6E05\\u6670\\uFF0C\\u6211\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u7B80\\u5355\\u5730\\u79F0\\u4E4B\\u4E3A\\\"\\u539F\\u5B50\\\"\\u3002\"), mdx(\"p\", null, \"\\u539F\\u5B50\\u914D\\u7F6E\\u662F\\u4E00\\u4E2A\\u4E0D\\u53EF\\u53D8\\u5BF9\\u8C61\\u3002\\u539F\\u5B50\\u914D\\u7F6E\\u5BF9\\u8C61\\u4E0D\\u4FDD\\u5B58\\u4EFB\\u4F55\\u503C\\u3002\\u539F\\u5B50\\u503C\\u5B58\\u5728\\u4E8E\\u4E00\\u4E2A\\u5B58\\u50A8\\u4E2D\\u3002\"), mdx(\"p\", null, \"\\u8981\\u521B\\u5EFA\\u4E00\\u4E2A\\u57FA\\u672C\\u7684\\u539F\\u5B50\\uFF08\\u914D\\u7F6E\\uFF09\\uFF0C\\u4F60\\u53EA\\u9700\\u8981\\u63D0\\u4F9B\\u4E00\\u4E2A\\u521D\\u59CB\\u503C\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"import { atom } from 'jotai'\\n\\nconst priceAtom = atom(10)\\nconst messageAtom = atom('hello')\\nconst productAtom = atom({ id: 12, name: 'good stuff' })\\n\")), mdx(\"p\", null, \"\\u4F60\\u4E5F\\u53EF\\u4EE5\\u521B\\u5EFA\\u6D3E\\u751F\\u7684\\u539F\\u5B50\\u3002\\u6211\\u4EEC\\u6709\\u4E09\\u79CD\\u6A21\\u5F0F\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u53EA\\u8BFB\\u539F\\u5B50\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u53EA\\u5199\\u539F\\u5B50\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8BFB\\u5199\\u539F\\u5B50\")), mdx(\"p\", null, \"\\u8981\\u521B\\u5EFA\\u6D3E\\u751F\\u539F\\u5B50\\uFF0C\\u6211\\u4EEC\\u4F20\\u9012\\u4E00\\u4E2A\\u8BFB\\u53D6\\u51FD\\u6570\\u548C\\u4E00\\u4E2A\\u53EF\\u9009\\u7684\\u5199\\u5165\\u51FD\\u6570\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const readOnlyAtom = atom((get) => get(priceAtom) * 2)\\nconst writeOnlyAtom = atom(\\n  null, // \\u4F20\\u9012`null`\\u4F5C\\u4E3A\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u662F\\u4E00\\u79CD\\u7EA6\\u5B9A\\n  (get, set, update) => {\\n    // `update`\\u662F\\u6211\\u4EEC\\u63A5\\u6536\\u5230\\u7684\\u7528\\u4E8E\\u66F4\\u65B0\\u6B64\\u539F\\u5B50\\u7684\\u4EFB\\u4F55\\u5355\\u4E00\\u503C\\n    set(priceAtom, get(priceAtom) - update.discount)\\n    // \\u6216\\u8005\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06\\u51FD\\u6570\\u4F5C\\u4E3A\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u4F20\\u9012\\n    // \\u8BE5\\u51FD\\u6570\\u5C06\\u88AB\\u8C03\\u7528\\uFF0C\\n    // \\u63A5\\u6536\\u539F\\u5B50\\u7684\\u5F53\\u524D\\u503C\\u4F5C\\u4E3A\\u5176\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\n    set(priceAtom, (price) => price - update.discount)\\n  },\\n)\\nconst readWriteAtom = atom(\\n  (get) => get(priceAtom) * 2,\\n  (get, set, newPrice) => {\\n    set(priceAtom, newPrice / 2)\\n    // \\u4F60\\u53EF\\u4EE5\\u540C\\u65F6\\u8BBE\\u7F6E\\u5C3D\\u53EF\\u80FD\\u591A\\u7684\\u539F\\u5B50\\n  },\\n)\\n\")), mdx(\"p\", null, \"\\u8BFB\\u53D6\\u51FD\\u6570\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get\"), \"\\u7528\\u4E8E\\u8BFB\\u53D6\\u539F\\u5B50\\u503C\\u3002\\u5B83\\u662F\\u54CD\\u5E94\\u5F0F\\u7684\\uFF0C\\u8BFB\\u53D6\\u4F9D\\u8D56\\u9879\\u4F1A\\u88AB\\u8DDF\\u8E2A\\u3002\"), mdx(\"p\", null, \"\\u5199\\u5165\\u51FD\\u6570\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get\"), \"\\u4E5F\\u7528\\u4E8E\\u8BFB\\u53D6\\u539F\\u5B50\\u503C\\uFF0C\\u4F46\\u5B83\\u4E0D\\u4F1A\\u88AB\\u8DDF\\u8E2A\\u3002\\u6B64\\u5916\\uFF0C\\u5B83\\u4E0D\\u80FD\\u8BFB\\u53D6Jotai v1 API\\u4E2D\\u672A\\u89E3\\u6790\\u7684\\u5F02\\u6B65\\u503C\\u3002\"), mdx(\"p\", null, \"\\u5199\\u5165\\u51FD\\u6570\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"set\"), \"\\u7528\\u4E8E\\u5199\\u5165\\u539F\\u5B50\\u503C\\u3002\\u5B83\\u5C06\\u8C03\\u7528\\u76EE\\u6807\\u539F\\u5B50\\u7684\\u5199\\u5165\\u51FD\\u6570\\u3002\"), mdx(\"h3\", null, \"\\u5728\\u6E32\\u67D3\\u51FD\\u6570\\u4E2D\\u521B\\u5EFA\\u539F\\u5B50\\u7684\\u6CE8\\u610F\\u4E8B\\u9879 {#note-about-creating-an-atom-in-render-function}\"), mdx(\"p\", null, \"\\u539F\\u5B50\\u914D\\u7F6E\\u53EF\\u4EE5\\u5728\\u4EFB\\u4F55\\u5730\\u65B9\\u521B\\u5EFA\\uFF0C\\u4F46\\u5F15\\u7528\\u76F8\\u7B49\\u6027\\u5F88\\u91CD\\u8981\\u3002\\u5B83\\u4EEC\\u4E5F\\u53EF\\u4EE5\\u52A8\\u6001\\u521B\\u5EFA\\u3002\\u5728\\u6E32\\u67D3\\u51FD\\u6570\\u4E2D\\u521B\\u5EFA\\u539F\\u5B50\\u65F6\\uFF0C\\u9700\\u8981\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \"\\u6216\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useRef\"), \"\\u6765\\u83B7\\u53D6\\u7A33\\u5B9A\\u7684\\u5F15\\u7528\\u3002\\u5982\\u679C\\u5BF9\\u4E8E\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \"\\u6216\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useRef\"), \"\\u8FDB\\u884C\\u8BB0\\u5FC6\\u5316\\u6709\\u7591\\u95EE\\uFF0C\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \"\\u3002\\u5426\\u5219\\uFF0C\\u5B83\\u53EF\\u80FD\\u4F1A\\u4E0E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useAtom\"), \"\\u4E00\\u8D77\\u5BFC\\u81F4\\u65E0\\u9650\\u5FAA\\u73AF\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const Component = ({ value }) => {\\n  const valueAtom = useMemo(() => atom({ value }), [value])\\n  // ...\\n}\\n\")), mdx(\"h3\", null, \"\\u7B7E\\u540D {#signatures}\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"// \\u57FA\\u672C\\u539F\\u5B50\\nfunction atom<Value>(initialValue: Value): PrimitiveAtom<Value>\\n\\n// \\u53EA\\u8BFB\\u539F\\u5B50\\nfunction atom<Value>(read: (get: Getter) => Value): Atom<Value>\\n\\n// \\u53EF\\u5199\\u7684\\u6D3E\\u751F\\u539F\\u5B50\\nfunction atom<Value, Args extends unknown[], Result>(\\n  read: (get: Getter) => Value,\\n  write: (get: Getter, set: Setter, ...args: Args) => Result,\\n): WritableAtom<Value, Args, Result>\\n\\n// \\u53EA\\u5199\\u7684\\u6D3E\\u751F\\u539F\\u5B50\\nfunction atom<Value, Args extends unknown[], Result>(\\n  read: Value,\\n  write: (get: Getter, set: Setter, ...args: Args) => Result,\\n): WritableAtom<Value, Args, Result>\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"initialValue\"), \"\\uFF1A\\u539F\\u5B50\\u5728\\u5176\\u503C\\u88AB\\u6539\\u53D8\\u4E4B\\u524D\\u8FD4\\u56DE\\u7684\\u521D\\u59CB\\u503C\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \"\\uFF1A\\u6BCF\\u5F53\\u8BFB\\u53D6\\u539F\\u5B50\\u65F6\\u90FD\\u4F1A\\u8BC4\\u4F30\\u7684\\u51FD\\u6570\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \"\\u7684\\u7B7E\\u540D\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"(get) => Value\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \"\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u6536\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u5E76\\u8FD4\\u56DE\\u5728Provider\\u4E2D\\u5B58\\u50A8\\u7684\\u5176\\u503C\\u3002\\u4F9D\\u8D56\\u6027\\u88AB\\u8DDF\\u8E2A\\uFF0C\\u6240\\u4EE5\\u5982\\u679C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \"\\u81F3\\u5C11\\u4E00\\u6B21\\u7528\\u4E8E\\u4E00\\u4E2A\\u539F\\u5B50\\uFF0C\\u90A3\\u4E48\\u6BCF\\u5F53\\u539F\\u5B50\\u503C\\u6539\\u53D8\\u65F6\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"read\"), \"\\u90FD\\u4F1A\\u88AB\\u91CD\\u65B0\\u8BC4\\u4F30\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \"\\uFF1A\\u4E3B\\u8981\\u7528\\u4E8E\\u6539\\u53D8\\u539F\\u5B50\\u503C\\u7684\\u51FD\\u6570\\uFF0C\\u66F4\\u597D\\u7684\\u63CF\\u8FF0\\u662F\\uFF1B\\u6BCF\\u5F53\\u6211\\u4EEC\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom\"), \"\\u8FD4\\u56DE\\u7684\\u5BF9\\u7684\\u7B2C\\u4E8C\\u4E2A\\u503C\\u65F6\\uFF0C\\u5B83\\u5C31\\u4F1A\\u88AB\\u8C03\\u7528\\uFF0C\\u5373\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom()[1]\"), \"\\u3002\\u5728\\u57FA\\u672C\\u539F\\u5B50\\u4E2D\\uFF0C\\u8FD9\\u4E2A\\u51FD\\u6570\\u7684\\u9ED8\\u8BA4\\u503C\\u4F1A\\u6539\\u53D8\\u90A3\\u4E2A\\u539F\\u5B50\\u7684\\u503C\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \"\\u7684\\u7B7E\\u540D\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"(get, set, ...args) => Result\"), \"\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"get\"), \"\\u4E0E\\u4E0A\\u9762\\u63CF\\u8FF0\\u7684\\u7C7B\\u4F3C\\uFF0C\\u4F46\\u5B83\\u4E0D\\u8DDF\\u8E2A\\u4F9D\\u8D56\\u6027\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"set\"), \"\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u6536\\u4E00\\u4E2A\\u539F\\u5B50\\u914D\\u7F6E\\u548C\\u4E00\\u4E2A\\u65B0\\u503C\\uFF0C\\u7136\\u540E\\u5728Provider\\u4E2D\\u66F4\\u65B0\\u539F\\u5B50\\u503C\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"...args\"), \"\\u662F\\u6211\\u4EEC\\u5728\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"useAtom()[1]\"), \"\\u65F6\\u63A5\\u6536\\u7684\\u53C2\\u6570\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Result\"), \"\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"write\"), \"\\u51FD\\u6570\\u7684\\u8FD4\\u56DE\\u503C\\u3002\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const primitiveAtom = atom(initialValue)\\nconst derivedAtomWithRead = atom(read)\\nconst derivedAtomWithReadWrite = atom(read, write)\\nconst derivedAtomWithWriteOnly = atom(null, write)\\n\")), mdx(\"p\", null, \"\\u539F\\u5B50\\u6709\\u4E24\\u79CD\\u7C7B\\u578B\\uFF1A\\u53EF\\u5199\\u539F\\u5B50\\u548C\\u53EA\\u8BFB\\u539F\\u5B50\\u3002\\u539F\\u59CB\\u539F\\u5B50\\u603B\\u662F\\u53EF\\u5199\\u7684\\u3002\\u5982\\u679C\\u6307\\u5B9A\\u4E86\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\uFF0C\\u6D3E\\u751F\\u539F\\u5B50\\u5C31\\u662F\\u53EF\\u5199\\u7684\\u3002\\u539F\\u59CB\\u539F\\u5B50\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\u7B49\\u540C\\u4E8E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"React.useState\"), \"\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setState\"), \"\\u3002\"), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"debugLabel\"), \" \\u5C5E\\u6027 {#\", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"debuglabel\"), \"-property}\"), mdx(\"p\", null, \"\\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u53EF\\u4EE5\\u6709\\u4E00\\u4E2A\\u53EF\\u9009\\u7684\\u5C5E\\u6027\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"debugLabel\"), \"\\u3002\\u8C03\\u8BD5\\u6807\\u7B7E\\u7528\\u4E8E\\u5728\\u8C03\\u8BD5\\u4E2D\\u663E\\u793A\\u539F\\u5B50\\u3002\\u6709\\u5173\\u66F4\\u591A\\u4FE1\\u606F\\uFF0C\\u8BF7\\u53C2\\u9605\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"../guides/debugging.mdx\"\n  }, \"\\u8C03\\u8BD5\\u6307\\u5357\"), \"\\u3002\"), mdx(\"p\", null, \"\\u6CE8\\u610F\\uFF1A\\u867D\\u7136\\u8C03\\u8BD5\\u6807\\u7B7E\\u4E0D\\u5FC5\\u662F\\u552F\\u4E00\\u7684\\uFF0C\\u4F46\\u901A\\u5E38\\u5EFA\\u8BAE\\u4F7F\\u5B83\\u4EEC\\u53EF\\u533A\\u5206\\u3002\"), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onMount\"), \" \\u5C5E\\u6027 {#\", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onmount\"), \"-property}\"), mdx(\"p\", null, \"\\u521B\\u5EFA\\u7684\\u539F\\u5B50\\u914D\\u7F6E\\u53EF\\u4EE5\\u6709\\u4E00\\u4E2A\\u53EF\\u9009\\u7684\\u5C5E\\u6027\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \"\\u3002\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \"\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u5B83\\u63A5\\u53D7\\u4E00\\u4E2A\\u51FD\\u6570\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setAtom\"), \"\\u5E76\\u53EF\\u9009\\u5730\\u8FD4\\u56DE\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onUnmount\"), \"\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, \"\\u5F53\\u539F\\u5B50\\u5728\\u63D0\\u4F9B\\u8005\\u4E2D\\u7B2C\\u4E00\\u6B21\\u88AB\\u8BA2\\u9605\\u65F6\\uFF0C\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onMount\"), \"\\u51FD\\u6570\\uFF0C\\n\\u5F53\\u5B83\\u4E0D\\u518D\\u88AB\\u8BA2\\u9605\\u65F6\\uFF0C\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onUnmount\"), \"\\u3002\\n\\u5728\\u67D0\\u4E9B\\u60C5\\u51B5\\u4E0B\\uFF08\\u5982\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://react.dev/reference/react/StrictMode\"\n  }, \"React\\u4E25\\u683C\\u6A21\\u5F0F\"), \"\\uFF09\\uFF0C\\n\\u4E00\\u4E2A\\u539F\\u5B50\\u53EF\\u4EE5\\u88AB\\u5378\\u8F7D\\u7136\\u540E\\u7ACB\\u5373\\u88C5\\u8F7D\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const anAtom = atom(1)\\nanAtom.onMount = (setAtom) => {\\n  console.log('atom\\u5DF2\\u5728\\u63D0\\u4F9B\\u8005\\u4E2D\\u6302\\u8F7D')\\n  setAtom(c => c + 1) // \\u5728\\u88C5\\u8F7D\\u65F6\\u589E\\u52A0\\u8BA1\\u6570\\n  return () => { ... } // \\u8FD4\\u56DE\\u53EF\\u9009\\u7684onUnmount\\u51FD\\u6570\\n}\\n\\nconst Component = () => {\\n  // \\u5F53\\u7EC4\\u4EF6\\u5728\\u4EE5\\u4E0B\\u60C5\\u51B5\\u4E0B\\u88C5\\u8F7D\\u65F6\\uFF0C\\u5C06\\u8C03\\u7528`onMount`\\uFF1A\\n  useAtom(anAtom)\\n  useAtomValue(anAtom)\\n\\n  // \\u7136\\u800C\\uFF0C\\u5728\\u4EE5\\u4E0B\\u60C5\\u51B5\\u4E0B\\uFF0C\\n  //  `onMount`\\u5C06\\u4E0D\\u4F1A\\u88AB\\u8C03\\u7528\\uFF0C\\u56E0\\u4E3A\\u539F\\u5B50\\u6CA1\\u6709\\u88AB\\u8BA2\\u9605\\uFF1A\\n  useSetAtom(anAtom)\\n  useAtomCallback(\\n    useCallback((get) => get(anAtom), []),\\n  )\\n  // ...\\n}\\n\")), mdx(\"p\", null, \"\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setAtom\"), \"\\u51FD\\u6570\\u5C06\\u8C03\\u7528\\u539F\\u5B50\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\u3002\\u81EA\\u5B9A\\u4E49\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"write\"), \"\\u5141\\u8BB8\\u6539\\u53D8\\u884C\\u4E3A\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const countAtom = atom(1)\\nconst derivedAtom = atom(\\n  (get) => get(countAtom),\\n  (get, set, action) => {\\n    if (action.type === 'init') {\\n      set(countAtom, 10)\\n    } else if (action.type === 'inc') {\\n      set(countAtom, (c) => c + 1)\\n    }\\n  },\\n)\\nderivedAtom.onMount = (setAtom) => {\\n  setAtom({ type: 'init' })\\n}\\n\")), mdx(\"h3\", null, \"\\u9AD8\\u7EA7API {#advanced-api}\"), mdx(\"p\", null, \"\\u81EAJotai v2\\u8D77\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"read\"), \"\\u51FD\\u6570\\u6709\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"options\"), \"\\u3002\"), mdx(\"h4\", null, mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"options.signal\"), \" {#\", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"options.signal\"), \"}\"), mdx(\"p\", null, \"\\u5B83\\u4F7F\\u7528\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/AbortController\"\n  }, \"AbortController\"), \"\\uFF0C\\u4EE5\\u4FBF\\u4F60\\u53EF\\u4EE5\\u4E2D\\u6B62\\u5F02\\u6B65\\u51FD\\u6570\\u3002\\n\\u5728\\u65B0\\u7684\\u8BA1\\u7B97\\uFF08\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"read\"), \"\\u51FD\\u6570\\uFF09\\u5F00\\u59CB\\u4E4B\\u524D\\u89E6\\u53D1\\u4E2D\\u6B62\\u3002\"), mdx(\"p\", null, \"\\u5982\\u4F55\\u4F7F\\u7528\\u5B83\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"const readOnlyDerivedAtom = atom(async (get, { signal }) => {\\n  // \\u4F7F\\u7528\\u4FE1\\u53F7\\u6765\\u4E2D\\u6B62\\u4F60\\u7684\\u51FD\\u6570\\n})\\n\\nconst writableDerivedAtom = atom(\\n  async (get, { signal }) => {\\n    // \\u4F7F\\u7528\\u4FE1\\u53F7\\u6765\\u4E2D\\u6B62\\u4F60\\u7684\\u51FD\\u6570\\n  },\\n  (get, set, arg) => {\\n    // ...\\n  },\\n)\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signal\"), \"\\u503C\\u662F\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal\"\n  }, \"AbortSignal\"), \"\\u3002\\n\\u4F60\\u53EF\\u4EE5\\u68C0\\u67E5\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signal.aborted\"), \"\\u5E03\\u5C14\\u503C\\uFF0C\\u6216\\u8005\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addEventListener\"), \"\\u4E0E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"abort\"), \"\\u4E8B\\u4EF6\\u3002\"), mdx(\"p\", null, \"\\u5BF9\\u4E8E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch\"), \"\\u7528\\u4F8B\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u7B80\\u5355\\u5730\\u4F20\\u9012\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"signal\"), \"\\u3002\"), mdx(\"p\", null, \"\\u53C2\\u89C1\\u4E0B\\u9762\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch\"), \"\\u4F7F\\u7528\\u793A\\u4F8B\\u3002\"), mdx(\"h4\", null, mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"options.setSelf\"), \" {#\", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"options.setself\"), \"}\"), mdx(\"p\", null, \"\\u5B83\\u662F\\u4E00\\u4E2A\\u7279\\u6B8A\\u7684\\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u8C03\\u7528\\u81EA\\u8EAB\\u539F\\u5B50\\u7684\\u5199\\u51FD\\u6570\\u3002\"), mdx(\"p\", null, \"\\u26A0\\uFE0F \\u5B83\\u4E3B\\u8981\\u4E3A\\u5185\\u90E8\\u4F7F\\u7528\\u548C\\u7B2C\\u4E09\\u65B9\\u5E93\\u4F5C\\u8005\\u63D0\\u4F9B\\u3002\\u4ED4\\u7EC6\\u9605\\u8BFB\\u6E90\\u4EE3\\u7801\\u4EE5\\u7406\\u89E3\\u884C\\u4E3A\\u3002\\u68C0\\u67E5\\u53D1\\u5E03\\u8BF4\\u660E\\u4EE5\\u83B7\\u53D6\\u4EFB\\u4F55\\u7834\\u574F\\u6027/\\u975E\\u7834\\u574F\\u6027\\u7684\\u66F4\\u6539\\u3002\"), mdx(\"h2\", null, \"codesandbox {#codesandbox}\"), mdx(CodeSandbox, {\n    id: \"hg665r\",\n    mdxType: \"CodeSandbox\"\n  }), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-tsx\"\n  }, \"import { Suspense } from 'react'\\nimport { atom, useAtom } from 'jotai'\\n\\nconst userIdAtom = atom(1)\\nconst userAtom = atom(async (get, { signal }) => {\\n  const userId = get(userIdAtom)\\n  const response = await fetch(\\n    `https://jsonplaceholder.typicode.com/users/${userId}?_delay=2000`,\\n    { signal },\\n  )\\n  return response.json()\\n})\\n\\nconst Controls = () => {\\n  const [userId, setUserId] = useAtom(userIdAtom)\\n  return (\\n    <div>\\n      User Id: {userId}\\n      <button onClick={() => setUserId((c) => c - 1)}>Prev</button>\\n      <button onClick={() => setUserId((c) => c + 1)}>Next</button>\\n    </div>\\n  )\\n}\\n\\nconst UserName = () => {\\n  const [user] = useAtom(userAtom)\\n  return <div>User name: {user.name}</div>\\n}\\n\\nconst App = () => (\\n  <>\\n    <Controls />\\n    <Suspense fallback=\\\"Loading...\\\">\\n      <UserName />\\n    </Suspense>\\n  </>\\n)\\n\\nexport default App\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"72b4d462-27cb-55e0-87ac-b7aa2ded1154","slug":"core/atom","__params":{"slug":"core"}}},"staticQueryHashes":["171421096","930225796"]}